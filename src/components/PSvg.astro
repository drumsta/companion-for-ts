---
export interface Props {
  name: string
  svgClass?: string | undefined
  svgStyle?: string | undefined
}

const { name, svgClass, svgStyle }: Props = Astro.props;
let icon = "";

const iconsImport = import.meta.glob("/src/assets/svg/**/**.svg", { as: "raw", eager: false });
const iconFile = iconsImport[`/src/assets/svg/${name}.svg`];

if (typeof iconFile !== "undefined") {
  icon = await iconFile();
  icon = icon.replace("<svg ", `<svg class="${svgClass ?? ""}" style="${svgStyle ?? ""}" `);
}
---

<span set:html={icon} />
